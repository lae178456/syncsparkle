<div class="d-flex flex-column justify-content-center align-items-center" style="padding: 40px 95px;">
  <div class="sparkletitle w-100 text-center">
    <p>invite people for the event</p>
  </div>
  <div class="card-body d-flex flex-column justify-content-center align-items-center newEventContainer" style="max-width: 600px; ">

    <%= form_with url: invite_page_path, method: :get, local: true do |f| %>
      <div class="form-check d-flex align-items-center" >
        <input type="checkbox" class="form-check-input" id="checkAll">
        <label for="checkAll" style="margin-left: 9px; cursor:pointer; letter-spacing: 2px; color: #ffff; font-family: 'Rajdhani', sans-serif; color: white; cursor: pointer;">
          Select All
        </label>
      </div>

      <div class="email-list">
        <%= f.collection_check_boxes(:emails, current_user.guests, :email, :email) do |b| %>
          <div class="form-check d-flex justify-content-between align-items-center">
            <%= b.check_box(class: 'form-check-input') %>
            <%= b.label class: 'form-check-label form-control' %>
          </div>
        <% end %>
      </div>

      <%= f.hidden_field :event_id, value: @event.id %>
        <%= button_tag(type: 'submit', class: "btn-dark m-5") do %>
        <span style="font-size: 1.2rem; margin-right: 5px;">Send</span>
        <i class="fas fa-paper-plane" style="color: #fffff;"></i>
      <% end %>
    <% end %>

  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    document.getElementById('checkAll').addEventListener('change', function() {
      const checkboxes = document.querySelectorAll('form input[type="checkbox"]');
      checkboxes.forEach((checkbox) => {
        checkbox.checked = this.checked;
      });
    });
  });
</script>
