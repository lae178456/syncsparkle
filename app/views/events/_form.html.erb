<script src="https://cdn.jsdelivr.net/jquery.tagsinput/1.3.6/jquery.tagsinput.min.js"></script>

<%# <div class="row rounded homepagebackground" style="width: 90%; padding: 60px 0px; margin-right: auto; margin-left:auto; backdrop-filter: blur(13px); box-shadow: 22px 3px 36px -4px rgba(0,0,0,0.54);" >
  <div class="flat-form "> %>
<div data-controller="datepicker" class="d-flex justify-content-center align-items-center homepagebackground">
  <div class="card-body d-flex flex-column newEventContainer">
    <h3 style="text-transform: uppercase; letter-spacing: 4px; color: #ffff;">Create Event</h3>
    <div class="mt-4" style="color: #ffff">
      <%= simple_form_for(@event) do |e| %>
        <%= e.input :title %>
        <%= e.input :description %>
        <%= e.input :location %>
        <div class="d-flex flex-row">
          <div class="p-2 text-center">
            <%= e.input :start_date,
                as: :string,
                input_html: { data: { datepicker_target: "startDate" } },
                label_html: { style: 'text-align: center' }%>
          </div>
          <div class="p-2 text-center">
          <%= e.input :end_date,
              as: :string,
              input_html: { data: { datepicker_target: "endDate" } } %>
          </div>
          <div class="p-2 ml-auto">
          <%= e.input :online_event, as: :boolean, label: 'Online Event?' %>
          </div>
        </div>
        <%# <%= e.input :hashtags, as: :string, input_html: { id: 'tags-input' } %>
        <div class="d-flex flex-row">
          <div class="p-2">
            <%= e.input :categories, collection: ['Food', 'Sport', 'Concert', 'Business'], include_blank: 'Select Category' %>
          </div>
          <div class="p-2">
            <%= e.input :photo, as: :file %>
          </div>
        </div>
        <div class="d-flex justify-content-start form-actions createeventbtn btn-dark">
        <%= e.submit %>
        </div>
      <% end %>
    </div>
    </div>
  </div>
<%# </div> %>

<script>
  $(document).ready(function() {
    $('#tags-input').tagsInput({
      delimiter: [',', ' '],
      removeWithBackspace: true,
      onChange: function(input) {
        console.log('Tags input changed:', input.val());
        var tagsArray = input.val().split(/[,\s]+/);
        input.importTags(tagsArray.join(','));
}

    });
  });
</script>
